@model IEnumerable<MVCExample.Models.Staff>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<h1>Index</h1>
<div class="add-search">
    <a onclick="showPopUp('@Url.Action("Create","Staff")','Thêm mới')" class="btn btn-success" style="color: #fff;"><i
            class="fas fa-user-plus"></i> Thêm mới</a>

    <form id="formSearchSubmit" asp-action="Index">
        <div class="input-group rounded">
            @Html.TextBox("keyword")
            @*<input type="search" id="inSearch123" class="form-control rounded" placeholder="Nhập từ khóa..."
                aria-label="Search" aria-describedby="search-addon" />*@
            <button type="submit" class="input-group-text border-0" id="btSearchForm">
                Search
            </button>
        </div>
    </form>

</div>

<table class="table table-hover" id="table-refresh">
    <thead class="table-success">
        <tr>
            <th>Mã Nhân Viên</th>
            <th>Họ Tên</th>
            <th>Ngày Sinh</th>
            <th>SĐT</th>
            <th>Địa Chỉ</th>
            <th>Chức Vụ</th>
            <th>
            </th>
        </tr>
    </thead>
    <tbody id="tableViewAll">
        <div class="loadData"></div>
    </tbody>
</table>


@* form *@
<div class="modal" id="form-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" text-center></h2>
            </div>
            <div class="modal-body">

            </div>
        </div>
    </div>
</div>

<script>
    @* $("#loadData").html("") *@
        $.get("/Staff/GetDataList", null, callback);
    function callback(list) {
        var SetData = $("#tableViewAll");
        for (var i = 0; i < list.length; i++) {
            var Data = "<tr class='row_" + list[i].ma_nhanvien + "'>" +
                "<td>" + list[i].ma_nhanvien + "</td>" +
                "<td>" + list[i].ho_ten + "</td>" +
                "<td>" + list[i].ngay_sinh + "</td>" +
                "<td>" + list[i].sdt + "</td>" +
                "<td>" + list[i].dia_chi + "</td>" +
                "<td>" + list[i].chuc_vu + "</td>" +
                "<td class='d-flex' style='justify-content: space-around;'>" 
                + "<a onclick='showPopUp(Url.Action('Edit','Staff', new {id = "+list[i].ma_nhanvien+"}), 'Sửa nhân viên')' class='btn btn-warning'> <i class='far fa-edit'></i>Sửa</a >" 
                + "<a class='btn btn-danger'><i class='fa fa-trash'></i></a >" 
                + "</td>" +
                "</tr>";
            SetData.append(Data);
    @* $("#loadData").html(" "); *@
        }
    }
</script>
